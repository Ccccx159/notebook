# C++左值（lvalue）和右值（rvalue）

## 一、概念

最早的C语言对左值右值的定义如下所示：

* 左值：可以出现在赋值语句"="左边或者右边的表达式；
* 右值：仅可以出现在赋值语句"="右边的表达式；

```c
int a = 1; // a 是左值，1 是右值
int b = a; // a 和 b都是左值
```

但是在ISO C加入`const`关键字后，上述左值定义便不再成立，不是所有的左值都可以被赋值。可赋值的左值被称为*可修改左值（modifiable lvalues）*。C99标准定义可修改左值为：

> 可修改左值是特殊的左值，不含有数组类型、不完整类型、const 修饰的类型。如果它是`struct`或`union`，它的成员都（递归地）不应含有 const 修饰的类型

```c
const int a = 10; // a 是左值，但是 a 不可被修改
```

C++继承了C语言中左值和右值的定义，但是仅适用于部分情况。更准确的说，在C++中，左值和右值是表达式的分类，一个表达式必然是左值或右值之一，不是左值的表达式都是右值。在现代C++中，左值`lvalue`更多地被认为是*定位器值（locator value）*，即左值是一个引用内存位置的表达式，它允许我们通过运算符`&`获取该内存位置的地址。

C++11把上述左值和右值扩充为更复杂的类别，包含左值、纯右值和将亡值。其实是将右值扩充为了纯右值（pure rvalue，简称 pvalue）和将亡值（eXpiring value，简称xvalue）。
